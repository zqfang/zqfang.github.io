<p>Graphs
<img src="/zqfang.github.io/images/algorithm/graphs.jpg" alt="graphs" /></p>

<h3 id="some-data-structures-to-keep-in-my-mind">Some data structures to keep in my mind.</h3>
<ul>
  <li>BinaryHeap: Complete binary tree
    <ul>
      <li>MaxHeap: Parent &gt; Both Children</li>
      <li>IndexMaxHeap</li>
      <li>MinHeap: Parent &lt; Both Children</li>
      <li>IndexMinHeap</li>
      <li>Priority queue (MaxHeap)</li>
    </ul>
  </li>
  <li>BinarySearchTree
    <ul>
      <li>Not always complete binary tree</li>
      <li>Value: leftChild &lt; Parent &lt; rightChild</li>
    </ul>
  </li>
  <li>DenseGraph</li>
  <li>SparseGraph</li>
</ul>

<p>Code snippets take from <a href="https://github.com/liuyubobobo/Play-with-Algorithms">Play with Algorithm</a></p>

<h3 id="1-dense-graph">1. Dense Graph</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cassert&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// 稠密图 - 邻接矩阵</span>
<span class="k">class</span> <span class="nc">DenseGraph</span><span class="p">{</span>

<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">directed</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span>

<span class="nl">public:</span>
    <span class="n">DenseGraph</span><span class="p">(</span> <span class="kt">int</span> <span class="n">n</span> <span class="p">,</span> <span class="kt">bool</span> <span class="n">directed</span> <span class="p">){</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">directed</span> <span class="o">=</span> <span class="n">directed</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">;</span> <span class="n">i</span> <span class="o">++</span> <span class="p">)</span>
            <span class="n">g</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">false</span><span class="p">)</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="o">~</span><span class="n">DenseGraph</span><span class="p">(){</span>

    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">V</span><span class="p">(){</span> <span class="k">return</span> <span class="n">n</span><span class="p">;}</span>
    <span class="kt">int</span> <span class="n">E</span><span class="p">(){</span> <span class="k">return</span> <span class="n">m</span><span class="p">;}</span>

    <span class="kt">void</span> <span class="n">addEdge</span><span class="p">(</span> <span class="kt">int</span> <span class="n">v</span> <span class="p">,</span> <span class="kt">int</span> <span class="n">w</span> <span class="p">){</span>

        <span class="n">assert</span><span class="p">(</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>
        <span class="n">assert</span><span class="p">(</span> <span class="n">w</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>

        <span class="k">if</span><span class="p">(</span> <span class="n">hasEdge</span><span class="p">(</span> <span class="n">v</span> <span class="p">,</span> <span class="n">w</span> <span class="p">)</span> <span class="p">)</span>
            <span class="k">return</span><span class="p">;</span>

        <span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">directed</span> <span class="p">)</span>
            <span class="n">g</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

        <span class="n">m</span> <span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">bool</span> <span class="n">hasEdge</span><span class="p">(</span> <span class="kt">int</span> <span class="n">v</span> <span class="p">,</span> <span class="kt">int</span> <span class="n">w</span> <span class="p">){</span>
        <span class="n">assert</span><span class="p">(</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>
        <span class="n">assert</span><span class="p">(</span> <span class="n">w</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>
        <span class="k">return</span> <span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">w</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">show</span><span class="p">(){</span>

        <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">;</span> <span class="n">i</span> <span class="o">++</span> <span class="p">){</span>
            <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">;</span> <span class="n">j</span> <span class="o">++</span> <span class="p">)</span>
                <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>
            <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">class</span> <span class="nc">adjIterator</span><span class="p">{</span>
    <span class="nl">private:</span>
        <span class="n">DenseGraph</span> <span class="o">&amp;</span><span class="n">G</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">v</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">index</span><span class="p">;</span>
    <span class="nl">public:</span>
        <span class="n">adjIterator</span><span class="p">(</span><span class="n">DenseGraph</span> <span class="o">&amp;</span><span class="n">graph</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v</span><span class="p">)</span><span class="o">:</span> <span class="n">G</span><span class="p">(</span><span class="n">graph</span><span class="p">){</span>
            <span class="k">this</span><span class="o">-&gt;</span><span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
            <span class="k">this</span><span class="o">-&gt;</span><span class="n">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">begin</span><span class="p">(){</span>

            <span class="n">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">next</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">next</span><span class="p">(){</span>
            <span class="k">for</span><span class="p">(</span> <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span> <span class="p">;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">G</span><span class="p">.</span><span class="n">V</span><span class="p">()</span> <span class="p">;</span> <span class="n">index</span> <span class="o">++</span> <span class="p">)</span>
                <span class="k">if</span><span class="p">(</span> <span class="n">G</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">index</span><span class="p">]</span> <span class="p">)</span>
                    <span class="k">return</span> <span class="n">index</span><span class="p">;</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">bool</span> <span class="n">end</span><span class="p">(){</span>
            <span class="k">return</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="n">G</span><span class="p">.</span><span class="n">V</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="2-sparse-graph">2. Sparse Graph</h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;cassert&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">// 稀疏图 - 邻接表</span>
<span class="k">class</span> <span class="nc">SparseGraph</span><span class="p">{</span>

<span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">directed</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">g</span><span class="p">;</span>

<span class="nl">public:</span>
    <span class="n">SparseGraph</span><span class="p">(</span> <span class="kt">int</span> <span class="n">n</span> <span class="p">,</span> <span class="kt">bool</span> <span class="n">directed</span> <span class="p">){</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">directed</span> <span class="o">=</span> <span class="n">directed</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">;</span> <span class="n">i</span> <span class="o">++</span> <span class="p">)</span>
            <span class="n">g</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">()</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="o">~</span><span class="n">SparseGraph</span><span class="p">(){</span>

    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">V</span><span class="p">(){</span> <span class="k">return</span> <span class="n">n</span><span class="p">;}</span>
    <span class="kt">int</span> <span class="n">E</span><span class="p">(){</span> <span class="k">return</span> <span class="n">m</span><span class="p">;}</span>

    <span class="kt">void</span> <span class="n">addEdge</span><span class="p">(</span> <span class="kt">int</span> <span class="n">v</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span> <span class="p">){</span>

        <span class="n">assert</span><span class="p">(</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>
        <span class="n">assert</span><span class="p">(</span> <span class="n">w</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>

        <span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">w</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span> <span class="n">v</span> <span class="o">!=</span> <span class="n">w</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">directed</span> <span class="p">)</span>
            <span class="n">g</span><span class="p">[</span><span class="n">w</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>

        <span class="n">m</span> <span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">bool</span> <span class="n">hasEdge</span><span class="p">(</span> <span class="kt">int</span> <span class="n">v</span> <span class="p">,</span> <span class="kt">int</span> <span class="n">w</span> <span class="p">){</span>

        <span class="n">assert</span><span class="p">(</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>
        <span class="n">assert</span><span class="p">(</span> <span class="n">w</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">w</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">);</span>

        <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="p">;</span> <span class="n">i</span> <span class="o">++</span> <span class="p">)</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">w</span> <span class="p">)</span>
                <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">show</span><span class="p">(){</span>

        <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="p">;</span> <span class="n">i</span> <span class="o">++</span> <span class="p">){</span>
            <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="s">"vertex "</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="o">&lt;&lt;</span><span class="s">":</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>
            <span class="k">for</span><span class="p">(</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="p">;</span> <span class="n">j</span> <span class="o">++</span> <span class="p">)</span>
                <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">;</span>
            <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">class</span> <span class="nc">adjIterator</span><span class="p">{</span>
    <span class="nl">private:</span>
        <span class="n">SparseGraph</span> <span class="o">&amp;</span><span class="n">G</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">v</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">index</span><span class="p">;</span>
    <span class="nl">public:</span>
        <span class="n">adjIterator</span><span class="p">(</span><span class="n">SparseGraph</span> <span class="o">&amp;</span><span class="n">graph</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v</span><span class="p">)</span><span class="o">:</span> <span class="n">G</span><span class="p">(</span><span class="n">graph</span><span class="p">){</span>
            <span class="k">this</span><span class="o">-&gt;</span><span class="n">v</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
            <span class="k">this</span><span class="o">-&gt;</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">begin</span><span class="p">(){</span>
            <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">G</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="p">)</span>
                <span class="k">return</span> <span class="n">G</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">index</span><span class="p">];</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">int</span> <span class="n">next</span><span class="p">(){</span>
            <span class="n">index</span> <span class="o">++</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">G</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="p">)</span>
                <span class="k">return</span> <span class="n">G</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">][</span><span class="n">index</span><span class="p">];</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kt">bool</span> <span class="n">end</span><span class="p">(){</span>
            <span class="k">return</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="n">G</span><span class="p">.</span><span class="n">g</span><span class="p">[</span><span class="n">v</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
</code></pre></div></div>
